# Default app configuration
org.broadinstitute.transporter {

  submission-interval: 3s

  web {
    host: "0.0.0.0"
    port: 8080
  }

  db {
    driver-classname: "org.postgresql.Driver"
    connect-url: "jdbc:postgresql://localhost/postgres"
    # DO NOT fill these in here.
    # Instead, make an 'application.conf' in the same directory as this file,
    # and put the settings there.
    #username: ""
    #password: ""

    timeouts {
      connection-timeout: 60s
      max-connection-lifetime: 30s
      connection-validation-timeout: 1s
      leak-detection-threshold: 10s
    }
  }

  kafka {
    connection {
      bootstrap-servers: ["localhost:9092"]
      client-id: "transporter-manager"
      request-timeout: 30s
      close-timeout: 1s
    }

    admin {
      # CANNOT be larger than the number of brokers in the cluster.
      replication-factor: 1
    }

    consumer {
      # MUST be the same across all instances of the manager, to avoid double-processing.
      group-id: "transporter-manager"
      max-records-per-batch: 100
      wait-time-per-batch: 1s
      topic-metadata-ttl: 10s
    }
  }
}
